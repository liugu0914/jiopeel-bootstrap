{"version":3,"file":"tool.js","sources":["../src/tool.js"],"sourcesContent":["import $ from 'jquery'\nimport Toast from './toast'\n\n/**\n * ------------------------------------------------------------------------\n *  工具类\n *  @author lyc\n *  @date 2020年06月04日17:48:50\n * ------------------------------------------------------------------------\n */\nclass Tool {\n  // ----------------------------------------------------------------------\n  // 获取form数据转为Object\n  // $form 为form的JQuery对象\n  // ----------------------------------------------------------------------\n  static formData($form) {\n    if (!$form || $form.length === 0 || !$ || !$.fn) {\n      return {}\n    }\n    const array = $form.serializeArray()\n    const data = {}\n    for (const index in array) {\n      if (!Object.prototype.hasOwnProperty.call(array, index)) {\n        continue\n      }\n      const name = array[index].name\n      const value = array[index].value\n      data[name] = data[name] ? [...$.isArray(data[name]) ? data[name] : [data[name]], value] : value\n    }\n    return data\n  }\n\n  // ----------------------------------------------------------------------\n  // Object序列化\n  // ----------------------------------------------------------------------\n  static toSerialize(obj) {\n    let serialize = ''\n    if (!obj || !(obj instanceof Object)) {\n      return serialize\n    }\n    for (const key in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n        continue\n      }\n      let data = obj[key]\n\n      if (data instanceof Array) {\n        for (const index in data) {\n          if (!Object.prototype.hasOwnProperty.call(data, index)) {\n            continue\n          }\n          let value = data[index]\n          value = encodeURIComponent(value)\n          serialize = serialize ? serialize.concat(`&${key}=${value}`) : `${key}=${value}`\n        }\n      } else if (typeof data === 'object') {\n        continue\n      } else {\n        data = encodeURIComponent(data)\n        serialize = serialize ? serialize.concat(`&${key}=${data}`) : `${key}=${data}`\n      }\n    }\n    return serialize\n  }\n\n  // ----------------------------------------------------------------------\n  // 数组数据转为Object\n  // ----------------------------------------------------------------------\n  static toObject(target, ...needs) {\n    if (!target) {\n      return {}\n    }\n    if (!(target instanceof Array)) {\n      return target\n    }\n    const data = {}\n    let flag = false\n    for (const index in target) {\n      if (!Object.prototype.hasOwnProperty.call(target, index)) {\n        continue\n      }\n      const targetData = target[index]\n      if (typeof targetData !== 'object') {\n        flag = true\n        break\n      }\n      for (const key in targetData) {\n        if (!Object.prototype.hasOwnProperty.call(targetData, key)) {\n          continue\n        }\n        if (needs && needs.length > 0 && !needs.includes(key)) {\n          continue\n        }\n        const value = targetData[key]\n        data[key] = data[key] ? [...$.isArray(data[key]) ? data[key] : [data[key]], value] : value\n      }\n    }\n    return flag ? target : data\n  }\n  // ----------------------------------------------------------------------\n  // 字符串转function\n  // ----------------------------------------------------------------------\n  static eval(value) {\n    let args\n    let fuc\n    if (!value) {\n      return fuc\n    }\n    const regval = value.match(/\\(.*\\)/gi)\n\n    if (regval && regval instanceof Array && regval.length > 0) {\n      const JSON = window.JSON\n      const argstr = regval.pop()\n      value = value.replace(argstr, '')\n      args = argstr.replace(/\\(|\\)/g, '').split(';')\n      args = args.filter((arg) => arg || arg === 0).map((arg) => JSON.parse(arg.replace(/'/g, '\"')))\n    }\n    try {\n      // eslint-disable-next-line no-new-func\n      fuc = new Function(`return ${value}`)()\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(`the value [${value}] is not function`)\n    }\n    return args ? {\n      args,\n      fuc\n    } : fuc\n  }\n\n  // ----------------------------------------------------------------------\n  // 判断是否为JSON\n  // ----------------------------------------------------------------------\n  static isJSON(value) {\n    if (!window.JSON || Object.prototype.toString.call(window.JSON) !== '[object JSON]') {\n      throw new ReferenceError('JSON is not exist in window')\n    }\n    const JSON = window.JSON\n    value = typeof value === 'string' ? value : JSON.stringify(value)\n    try {\n      value = Object.prototype.toString.call(JSON.parse(value))\n      if (value === '[object Object]' || value === '[object Array]') {\n        return true\n      }\n      return false\n    } catch (e) {\n      return false\n    }\n  }\n\n  // ----------------------------------------------------------------------\n  //  获取选中的项转为Object\n  //  dataName可为 'id' 或 ['id','name']\n  // ----------------------------------------------------------------------\n  static checkedData(dataName, one) {\n    const data = {}\n    const $chks = $(this).closest('.query-data').find('.chk:checked')\n    if (!one && (!$chks || $chks.length === 0)) {\n      Toast.warn('请选择之后进行操作')\n      return false\n    }\n    if (one && (!$chks || $chks.length !== 1)) {\n      Toast.warn('请选择一项之后进行操作')\n      return false\n    }\n    if (!dataName) {\n      dataName = 'id'\n    }\n    if ($.isArray(dataName)) {\n      for (const index in dataName) {\n        if (!Object.prototype.hasOwnProperty.call(dataName, index)) {\n          continue\n        }\n        const name = dataName[index]\n        if (typeof name !== 'string') {\n          continue\n        }\n        const attrs = $.map($chks, (element) => $(element).data(name))\n        data[name] = attrs.join(',')\n      }\n    } else if (typeof dataName === 'string') {\n      const attrs = $.map($chks, (element) => $(element).data(dataName))\n      data[dataName] = attrs.join(',')\n    }\n    return data\n  }\n\n  // ----------------------------------------------------------------------\n  //  ztree 简单数据 转 子孙节点数据\n  // ----------------------------------------------------------------------\n  static rebliud(sNodes, key, parentKey, childKey) {\n    if (!key) {\n      key = 'id'\n    }\n    if (!parentKey) {\n      parentKey = 'pid'\n    }\n    if (!childKey) {\n      childKey = 'children'\n    }\n    const result = []\n    const tmpMap = {}\n\n    // 先把数组整理成map的形式\n    for (let i = 0, l = sNodes.length; i < l; i++) {\n      // key为 对象的\"id\"的值， value就是就该对象\n      tmpMap[sNodes[i][key]] = sNodes[i]\n    }\n\n    // 遍历，组织成子孙节点\n    for (let i = 0, l = sNodes.length; i < l; i++) {\n      // 查找当前节点的父节点是否存在，如果存在就把当前节点放入到父节点的子孙列表中\n      if (tmpMap[sNodes[i][parentKey]] && sNodes[i][key] !== sNodes[i][parentKey]) {\n        if (!tmpMap[sNodes[i][parentKey]][childKey]) {\n          tmpMap[sNodes[i][parentKey]][childKey] = []\n        }\n        tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])\n      } else {\n        // 如果不存在就直接放入到一个新的列表中\n        result.push(sNodes[i])\n      }\n    }\n    return result\n  }\n\n  // ----------------------------------------------------------------------\n  // 检查QQ格式\n  // ----------------------------------------------------------------------\n  static chkQQ(value) {\n    const reg = /^[1-9][0-9]{4,10}$/\n    return reg.test(value)\n  }\n\n\n  // ----------------------------------------------------------------------\n  // 检查手机号格式\n  // ----------------------------------------------------------------------\n  static chkPhone(value) {\n    const reg = /^1[3-9]\\d{9}$/\n    return reg.test(value)\n  }\n\n  // ----------------------------------------------------------------------\n  // 检查座机电话格式\n  // ----------------------------------------------------------------------\n  static chkTel(value) {\n    const reg = /\\(?\\d{3,4}[) -]?\\d{8}/\n    return reg.test(value)\n  }\n\n  // ----------------------------------------------------------------------\n  // 检查邮箱格式\n  // ----------------------------------------------------------------------\n  static chkEmail(value) {\n    const reg = /^([a-zA-Z]|[0-9])(\\w|-)+@[a-zA-Z0-9]+(\\.[a-zA-Z]{2,4})+$/\n    return reg.test(value)\n  }\n\n  // ----------------------------------------------------------------------\n  // 检查http格式\n  // ----------------------------------------------------------------------\n  static chkHttp(value) {\n    const reg = /^(?=^.{3,255}$)(http(s)?:\\/\\/)+(www\\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\\d+)*(\\/\\w+\\.\\w+)*$/\n    return reg.test(value)\n  }\n\n  // ----------------------------------------------------------------------\n  // 检查url格式\n  // ----------------------------------------------------------------------\n  static chkUrl(value) {\n    const reg = /^(?=^.{3,255}$)(http(s)?:\\/\\/)+(www\\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\\d+)*(\\/\\w+\\.\\w+)*([\\?&]\\w+=\\w*)*$/\n    return reg.test(value)\n  }\n\n\n  // ----------------------------------------------------------------------\n  // 检查身份证格式\n  // ----------------------------------------------------------------------\n  static chkIdCard(idcode) {\n    let code\n    if (typeof idcode === 'number') {\n      code = `${idcode}`\n    } else if (typeof idcode === 'string') {\n      code = idcode\n    } else {\n      return false\n    }\n\n    // 加权因子\n    // eslint-disable-next-line no-magic-numbers\n    const weightFactor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n    // 校验码\n    const checkCode = ['1', '0', 'X', '9', '8', '7', '6', '5', '4', '3', '2']\n    const lastNum = 17\n    const last = idcode[lastNum] // 最后一位\n    const seventeen = code.substring(0, lastNum)\n    // ISO 7064:1983.MOD 11-2\n    // 判断最后一位校验码是否正确\n    const arr = seventeen.split('')\n    const len = arr.length\n    let num = 0\n    for (let i = 0; i < len; i++) {\n      num += arr[i] * weightFactor[i]\n    }\n    // 获取余数\n    const resisueNum = 11\n    const resisue = num % resisueNum\n    const lastNo = checkCode[resisue]\n    // 格式的正则\n    // 正则思路\n    /*\n    第一位不可能是0\n    第二位到第六位可以是0-9\n    第七位到第十位是年份，所以七八位为19或者20\n    十一位和十二位是月份，这两位是01-12之间的数值\n    十三位和十四位是日期，是从01-31之间的数值\n    十五，十六，十七都是数字0-9\n    十八位可能是数字0-9，也可能是X\n    */\n    const idcardPatter = /^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/\n    // 判断格式是否正确\n    const format = idcardPatter.test(idcode)\n    // 返回验证结果，校验码和格式同时正确才算是合法的身份证号码\n    return last === lastNo && format\n  }\n}\n\nexport default Tool\n"],"names":["Tool","formData","$form","length","$","fn","array","serializeArray","data","index","Object","prototype","hasOwnProperty","call","name","value","isArray","toSerialize","obj","serialize","key","Array","encodeURIComponent","concat","toObject","target","flag","needs","targetData","includes","eval","args","fuc","regval","match","JSON","window","argstr","pop","replace","split","filter","arg","map","parse","Function","error","console","log","isJSON","toString","ReferenceError","stringify","e","checkedData","dataName","one","$chks","closest","find","Toast","warn","attrs","element","join","rebliud","sNodes","parentKey","childKey","result","tmpMap","i","l","push","chkQQ","reg","test","chkPhone","chkTel","chkEmail","chkHttp","chkUrl","chkIdCard","idcode","code","weightFactor","checkCode","lastNum","last","seventeen","substring","arr","len","num","resisueNum","resisue","lastNo","idcardPatter","format"],"mappings":"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"}