{"version":3,"file":"menu.js","sources":["../src/menu.js"],"sourcesContent":["import $ from 'jquery'\nimport Ajax from './ajax'\n\nconst NAME = 'menu'\nconst DATA_KEY = 'lyc.menu'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\nconst Event = {\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`,\n  CLICK_CLOSE_DATA_API: `click.close${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst Customer = {\n  MENUID: 'menuid',\n  URL: 'url',\n  NAME: 'name',\n  ICON: 'icon',\n  CLOSE: 'close',\n  SHOW: 'show'\n}\n\nconst HTML_CONTEXT = {\n  HEADER: `<a class=\"home-page\" href=\"#\" \n            data-${Customer.URL}=\"{{${Customer.URL}}}\"\n            data-${Customer.MENUID}=\"{{${Customer.MENUID}}}\">\n            {{${Customer.ICON}}} {{${Customer.NAME}}} \n            {{${Customer.CLOSE}}}\n            </a>`,\n  BODY: `<div class=\"iframe-content\" data-${Customer.MENUID}=\"{{${Customer.MENUID}}}\"></div>`,\n  CLOSE: '<i class=\"cs cs-guanbi\"></i>'\n}\n\nconst Selector = {\n  MENU_HEADER: '#menu-list',\n  MENU_BODY: '#page-content',\n  ACTIVE: 'active',\n  LEFT_MENU: '.metismenu',\n  CLOSE: '.cs.cs-guanbi'\n}\n\n/**\n * ------------------------------------------------------------------------\n *  菜单生产\n *  @author lyc\n *  @date 2020年06月04日17:48:50\n * ------------------------------------------------------------------------\n */\nclass Menu {\n  constructor(element) {\n    this._element = element\n    this.init()\n    return this\n  }\n  static get NAME() {\n    return NAME\n  }\n\n  static get Customer() {\n    return Customer\n  }\n\n  // ----------------------------------------------------------------------\n  // 初始化\n  // ----------------------------------------------------------------------\n  init() {\n    const data = $(this._element).data()\n    const $header = $(Selector.MENU_HEADER)\n    const $body = $(Selector.MENU_BODY)\n    if ($header.length === 0 || $body.length === 0 || !data[Customer.URL]) {\n      return\n    }\n    const select = `[data-${Customer.MENUID} = ${data[Customer.MENUID]}]`\n    let $a = $header.find(select)\n    if ($a.length === 0) {\n      // 生产头部\n      let headerDiv = HTML_CONTEXT.HEADER\n      headerDiv = headerDiv.replace(new RegExp(`{{${Customer.URL}}}`, 'g'), data[Customer.URL])\n      headerDiv = headerDiv.replace(new RegExp(`{{${Customer.MENUID}}}`, 'g'), data[Customer.MENUID])\n      headerDiv = headerDiv.replace(new RegExp(`{{${Customer.CLOSE}}}`, 'g'), data[Customer.CLOSE] === false ? '' : HTML_CONTEXT.CLOSE)\n      headerDiv = headerDiv.replace(new RegExp(`{{${Customer.ICON}}}`, 'g'), data[Customer.ICON] ? `<i class =\"${data[Customer.ICON]}\"></i>` : '')\n      headerDiv = headerDiv.replace(new RegExp(`{{${Customer.NAME}}}`, 'g'), data[Customer.NAME])\n      $a = $(headerDiv).appendTo($header)\n    }\n\n    let $b = $body.find(select)\n    if ($b.find(select).length === 0) {\n      // 生产身体\n      let bodyDiv = HTML_CONTEXT.BODY\n      bodyDiv = bodyDiv.replace(new RegExp(`{{${Customer.MENUID}}}`, 'g'), data[Customer.MENUID])\n      $b = $(bodyDiv).appendTo($body)\n      $b.data({\n        ...$b.data(),\n        ...data\n      })\n    }\n    $a.on(Event.CLICK_DATA_API, this.click)\n    // 直接触发\n    $a.trigger($.Event(Event.CLICK_DATA_API))\n    // 关闭标签 的初始化\n    $a.find(Selector.CLOSE).on(Event.CLICK_CLOSE_DATA_API, this.closeLable)\n  }\n\n  // ----------------------------------------------------------------------\n  // i标签关闭功能触发\n  // ----------------------------------------------------------------------\n  closeLable(event) {\n    if (event) {\n      event.preventDefault()\n    }\n    // 1头部操作\n    const $this = $(event.target)\n    const $a = $this.closest('a')\n    const data = $a.data()\n    Menu.close(data[Customer.MENUID])\n  }\n\n  // ----------------------------------------------------------------------\n  // a标签点击功能触发\n  // ----------------------------------------------------------------------\n  click(event) {\n    if (event) {\n      event.preventDefault()\n    }\n    const $this = $(event.currentTarget)\n    const data = $this.data()\n    Menu.open(data[Customer.MENUID])\n  }\n\n  // ----------------------------------------------------------------------\n  // 通过menuid关闭菜单\n  // ----------------------------------------------------------------------\n  static close(menuId) {\n    if (!menuId) {\n      const $header = $(Selector.MENU_HEADER)\n      const $a = $header.find(`a.${Selector.ACTIVE}`)\n      menuId = $a.data(Customer.MENUID)\n    }\n    // 1头部操作\n    const select = `[data-${Customer.MENUID} = ${menuId}]`\n    const $a = $(Selector.MENU_HEADER).find(select)\n    // 关闭之后默认获取最近的一个\n    // eslint-disable-next-line no-nested-ternary\n    const $round = $a.prev().length !== 0 ? $a.prev() : $a.next().length !== 0 ? $a.next() : null\n    const $preva = $a.hasClass(Selector.ACTIVE) ? $round : null\n    const $body = $(Selector.MENU_BODY).find(select).eq(0)\n    // 关闭自身\n    $a.remove()\n    $body.remove()\n\n    if ($preva && $preva.length !== 0) {\n      $preva.addClass(Selector.ACTIVE)\n      const prevSelect = `[data-${Customer.MENUID} = ${$preva.data(Customer.MENUID)}]`\n      const $prevbody = $(Selector.MENU_BODY).find(prevSelect).eq(0)\n      $prevbody.addClass(Selector.ACTIVE)\n    }\n  }\n\n  // ----------------------------------------------------------------------\n  // 通过menuid关闭其他菜单\n  // ----------------------------------------------------------------------\n  static closeOther(menuId) {\n    const $header = $(Selector.MENU_HEADER)\n    if (!menuId) {\n      const $a = $header.find(`a.${Selector.ACTIVE}`)\n      menuId = $a.data(Customer.MENUID)\n    }\n    $header.find('a').each((_index, ele) => {\n      const flag = $(ele).data(Customer.CLOSE)\n      const id = $(ele).data(Customer.MENUID)\n      if (flag !== false && id !== menuId) {\n        Menu.close(id)\n      }\n    })\n  }\n\n  // ----------------------------------------------------------------------\n  // 关闭全部菜单， 除了不可关闭的\n  // ----------------------------------------------------------------------\n  static closeAll() {\n    const $header = $(Selector.MENU_HEADER)\n    $header.find('a').each((_index, ele) => {\n      const flag = $(ele).data(Customer.CLOSE)\n      const menuid = $(ele).data(Customer.MENUID)\n      if (flag !== false) {\n        Menu.close(menuid)\n      }\n    })\n  }\n\n  // ----------------------------------------------------------------------\n  // 通过menuid打开菜单\n  // ----------------------------------------------------------------------\n  static open(menuId, flag) {\n    const $header = $(Selector.MENU_HEADER)\n    if (!menuId) {\n      const $a = $header.find(`a.${Selector.ACTIVE}`)\n      menuId = $a.data(Customer.MENUID)\n    }\n    const select = `[data-${Customer.MENUID} = ${menuId}]`\n    const $this = $(Selector.MENU_HEADER).find(select)\n    // 1.1隐藏其他\n    $this.siblings().removeClass(Selector.ACTIVE)\n    // 1.2显示自己\n    $this.addClass(Selector.ACTIVE)\n    // 1.3关联菜单操作\n    const menu = $(Selector.LEFT_MENU)\n    menu.find('li,a').removeClass(Selector.ACTIVE)\n    const menu$a = menu.find(select).eq(0)\n    menu$a.addClass(Selector.ACTIVE)\n    // 2身体操作\n    const $body = $(Selector.MENU_BODY).find(select).eq(0)\n    // 2.1隐藏其他\n    $body.siblings().removeClass(Selector.ACTIVE)\n    // 2.2显示自己\n    $body.addClass(Selector.ACTIVE)\n    // ajax 请求页面\n    const bData = $body.data()\n    const show = bData[Customer.SHOW] || false\n    if (!show || flag === true) {\n      Ajax.getHTML(bData[Customer.URL], bData, Menu.suc($body), Menu.err(menuId))\n    }\n  }\n\n  static suc($body) {\n    return (result) => {\n      $body.data(Customer.SHOW, true)\n      $body.html(result).initUI()\n    }\n  }\n\n  static err(menuId) {\n    return () => {\n      Menu.close(menuId)\n    }\n  }\n\n  static _jQueryInterface() {\n    return new Menu(this)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n$.fn[NAME] = Menu._jQueryInterface\n$.fn[NAME].Constructor = Menu\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Menu._jQueryInterface\n}\n\nexport default Menu\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","JQUERY_NO_CONFLICT","$","fn","Event","CLICK_DATA_API","CLICK_CLOSE_DATA_API","Customer","MENUID","URL","ICON","CLOSE","SHOW","HTML_CONTEXT","HEADER","BODY","Selector","MENU_HEADER","MENU_BODY","ACTIVE","LEFT_MENU","Menu","element","_element","init","data","$header","$body","length","select","$a","find","headerDiv","replace","RegExp","appendTo","$b","bodyDiv","on","click","trigger","closeLable","event","preventDefault","$this","target","closest","close","currentTarget","open","menuId","$round","prev","next","$preva","hasClass","eq","remove","addClass","prevSelect","$prevbody","closeOther","each","_index","ele","flag","id","closeAll","menuid","siblings","removeClass","menu","menu$a","bData","show","Ajax","getHTML","suc","err","result","html","initUI","_jQueryInterface","Constructor","noConflict"],"mappings":"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"}