{"version":3,"file":"confirm.js","sources":["../src/confirm.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.3.1): confirm.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME               = 'confirm'\nconst VERSION            = '4.3.1'\nconst DATA_KEY           = 'bs.confirm'\nconst EVENT_KEY          = `.${DATA_KEY}`\nconst DEFAULT_ICON       = '<i class=\\'cs cs-xinxi\\'></i>'\nconst DEFAULT_CONFIRM    = `\n                          <div class=\"toast fade\" target=\"confirm\">\n                          <div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\n                              <div class=\"toast-content {{toastClass}}\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n                                  <div class=\"toast-header\">\n                                      {{icon}}\n                                      <strong class=\"ml-1 mr-auto\">{{header}}</strong>\n                                      <i class=\"cs cs-close pointer\" target=\"confirm-no\"></i>\n                                  </div>\n                                  <div class=\"toast-body\">{{text}}</div>\n                                  <div class=\"toast-footer\">\n                                      <button type=\"button\" target=\"confirm-no\" class=\"btn btn-light btn-xm mr-2\">\n                                          <span aria-hidden=\"true\">取消</span>\n                                      </button>\n                                      <button type=\"button\" target=\"confirm-ok\" class=\"btn {{btnClass}} btn-xm\">\n                                          <span aria-hidden=\"true\">确认</span>\n                                      </button>\n                                  </div>\n                              </div>\n                          </div>\n                          </div>`\n\nconst Event = {\n  CLICK_DISMISS : `click.dismiss${EVENT_KEY}`,\n  HIDE          : `hide${EVENT_KEY}`,\n  HIDDEN        : `hidden${EVENT_KEY}`,\n  SHOW          : `show${EVENT_KEY}`,\n  SHOWN         : `shown${EVENT_KEY}`\n}\n\nconst ClassName = {\n  FADE    : 'fade',\n  HIDE    : 'hide',\n  SHOW    : 'show',\n  SHOWING : 'showing',\n  OPEN    : 'modal-open',\n  BACKDROP:'toast-backdrop',\n  TOAST_FILLED:'toast-filled',\n  BG_BTN     :'btn-outline-light',\n  BTN_RIMARY :'btn-primary',\n  BG_PRIMARY :'bg-primary',\n  BG_INFO    :'bg-info',\n  BG_DANGER  :'bg-danger',\n  BG_WARNING :'bg-warning',\n  BG_SUCCESS :'bg-success',\n  BG_DARK    :'bg-dark'\n}\n\nconst State = [\n  'primary',\n  'info',\n  'danger',\n  'warning',\n  'success',\n  'dark'\n]\n\nconst position = ['bottom-left', 'bottom-right', 'top-right', 'top-left', 'bottom-center', 'top-center', 'mid-center']\n\nconst DefaultType = {\n  animation : 'boolean',\n  backdrop  : 'boolean',\n  header    : 'string',\n  text      : 'string',\n  icon      : 'string',\n  position  : '(string|object)',\n  ok        : 'function',\n  no        : 'function'\n}\n\nconst Default = {\n  animation : true,\n  backdrop  : false,\n  header    : 'JIOPEEL',\n  text      : '',\n  icon      : 'dark',\n  position  : 'mid-center',\n  ok() {\n    return true\n  },\n  no() {\n    return false\n  }\n}\n\nconst Selector = {\n  DATA_CONFIRM : '[target=\"confirm\"]',\n  DATA_NO : '[target=\"confirm-no\"]',\n  DATA_OK : '[target=\"confirm-ok\"]'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Confirm {\n  constructor(config) {\n    this._config    = this._getConfig(config)\n    this._element   = this._createDIV()\n    this._backdrop  = null\n    this._isShown   = false\n    this._flag      = false\n    // this.show()\n    this._setListeners()\n    return this\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  // Public\n\n  show() {\n    $(this._element).trigger(Event.SHOW)\n    this._isShown = true\n    $(document.body).addClass(ClassName.OPEN)\n    // 打开阴影层\n    this._showBackdrop(() => this._showElement())\n  }\n\n\n  hide(flag) {\n    if (!this._element.classList.contains(ClassName.SHOW)) {\n      return\n    }\n\n    $(this._element).trigger(Event.HIDE)\n\n    this._isShown = false\n\n    this._close()\n    // 打开阴影层\n    this._showBackdrop(() => this._judge(flag))\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n    this._timeout = null\n\n    if (this._element.classList.contains(ClassName.SHOW)) {\n      this._element.classList.remove(ClassName.SHOW)\n    }\n\n    $(this._element).off(Event.CLICK_DISMISS)\n\n    $.removeData(this._element, DATA_KEY)\n    this._element = null\n    this._config  = null\n  }\n\n\n  ok(callback) {\n    if (typeof callback === 'function') {\n      this._config.ok = callback\n    }\n    return this\n  }\n\n  no(callback) {\n    if (typeof callback === 'function') {\n      this._config.no = callback\n    }\n    return this\n  }\n\n  over() {\n    return this._flag\n  }\n\n  // Private\n\n\n  _showElement() {\n    if (this._config.animation) {\n      this._element.classList.add(ClassName.FADE)\n    }\n    // this._position()\n    const complete = () => {\n      this._element.classList.add(ClassName.SHOW)\n\n      $(this._element).trigger(Event.SHOWN)\n    }\n\n    this._element.classList.remove(ClassName.HIDE)\n\n    this._element.style.display = 'block'\n\n    if (this._config.animation) {\n      const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n      $(this._element)\n        .one(Util.TRANSITION_END, complete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      complete()\n    }\n  }\n\n  _judge(flag) {\n    $(document.body).removeClass(ClassName.OPEN)\n    this._flag = flag\n    return flag ? this._config.ok() : this._config.no()\n  }\n\n  _getConfig(_config) {\n    let config = {}\n    if (typeof _config === 'string') {\n      config.text = _config\n    } else if (typeof _config === 'object' && _config) {\n      config = _config\n    }\n    config = {\n      ...Default,\n      ...config\n    }\n    if (config.icon && config.icon === 'random') {\n      let random = Util.randomArray(State)\n      random = random ? random : ''\n      config.icon = random\n    }\n\n    Util.typeCheckConfig(\n      NAME,\n      config,\n      this.constructor.DefaultType\n    )\n\n    return config\n  }\n  _position() {\n    const local = 2\n    const _position = this._config.position\n    const $this = $(this._element)\n    if (typeof _position === 'string' && $.inArray(_position, position) !== -1) {\n      if (_position === 'bottom-center') {\n        $this.css({\n          left:  $(window).outerWidth() / local - $this.outerWidth() / local,\n          bottom: 20\n        })\n      } else if (_position === 'top-center') {\n        $this.css({\n          left:  $(window).outerWidth() / local - $this.outerWidth() / local,\n          top: 20\n        })\n      } else if (_position === 'mid-center') {\n        $this.css({\n          left:  $(window).outerWidth() / local - $this.outerWidth() / local,\n          top:  $(window).outerHeight() / local - $this.outerHeight() / local\n        })\n      } else {\n        $this.addClass(_position)\n      }\n    } else if (typeof _position === 'object') {\n      $this.css({\n        top : _position.top ? _position.top : 'auto',\n        bottom : _position.bottom ? _position.bottom : 'auto',\n        left : _position.left ? _position.left : 'auto',\n        right : _position.right ? _position.right : 'auto'\n      })\n    } else {\n      $this.addClass('mid-center')\n    }\n  }\n\n  _showBackdrop(callback) {\n    const animate = $(this._element).hasClass(ClassName.FADE)\n      ? ClassName.FADE : ''\n\n    if (this._isShown) {\n      this._backdrop = document.createElement('div')\n      this._backdrop.className = ClassName.BACKDROP\n\n      if (animate) {\n        this._backdrop.classList.add(animate)\n      }\n\n      $(this._backdrop).appendTo(document.body)\n\n      $(this._element).on(Event.CLICK_DISMISS, (event) => {\n        if (!this._config.backdrop) {\n          return\n        }\n        if (event.target !== event.currentTarget) {\n          return\n        }\n        this.hide()\n      })\n\n      if (animate) {\n        Util.reflow(this._backdrop)\n      }\n\n      $(this._backdrop).addClass(ClassName.SHOW)\n\n      if (!callback) {\n        return\n      }\n\n      if (!animate) {\n        callback()\n        return\n      }\n\n      const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop)\n\n      $(this._backdrop)\n        .one(Util.TRANSITION_END, callback)\n        .emulateTransitionEnd(backdropTransitionDuration)\n    } else { // 关闭阴影层\n      $(this._backdrop).removeClass(ClassName.SHOW)\n\n      const callbackRemove = () => {\n        this._removeBackdrop()\n        if (callback) {\n          callback()\n        }\n      }\n\n      if ($(this._element).hasClass(ClassName.FADE)) {\n        const backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop)\n\n        $(this._backdrop)\n          .one(Util.TRANSITION_END, callbackRemove)\n          .emulateTransitionEnd(backdropTransitionDuration)\n      } else {\n        callbackRemove()\n      }\n    }\n  }\n\n  _removeBackdrop() {\n    if (this._backdrop) {\n      $(this._backdrop).remove()\n      this._backdrop = null\n    }\n  }\n\n  _setListeners() {\n    $(this._element).on(\n      Event.CLICK_DISMISS,\n      Selector.DATA_NO,\n      () => this.hide(false)\n    )\n    $(this._element).on(\n      Event.CLICK_DISMISS,\n      Selector.DATA_OK,\n      () => this.hide(true)\n    )\n  }\n\n  _close() {\n    const complete = () => {\n      this._element.classList.add(ClassName.HIDE)\n      $(this._element).trigger(Event.HIDDEN)\n      $(this._element).remove()\n      this._element = null\n    }\n\n    this._element.classList.remove(ClassName.SHOW)\n    if (this._config.animation) {\n      const transitionDuration = Util.getTransitionDurationFromElement(this._element)\n\n      $(this._element)\n        .one(Util.TRANSITION_END, complete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      complete()\n    }\n  }\n\n  _createDIV() {\n    $(Selector.DATA_CONFIRM, document).remove()\n    $(`.${ClassName.BACKDROP}`, document).remove()\n    let div = DEFAULT_CONFIRM\n    div = div.replace('{{header}}', this._config.header)\n    div = div.replace('{{text}}', this._config.text)\n    let icon = this._config.icon.trim()\n    const iconName = icon.toUpperCase()\n    for (const state in State) {\n      if (icon === State[state]) {\n        div = div.replace('{{toastClass}}', `${ClassName[`BG_${iconName}`]} ${ClassName.TOAST_FILLED}`)\n        div = div.replace('{{btnClass}}', ClassName.BG_BTN)\n        icon = DEFAULT_ICON\n        break\n      }\n    }\n    div = div.replace('{{toastClass}}', '')\n    div = div.replace('{{btnClass}}', ClassName.BTN_RIMARY)\n    icon = Util.isHTML(icon) ? icon : ''\n    div = div.replace('{{icon}}', icon)\n    const creatediv = document.createElement('div')\n    creatediv.innerHTML = div\n    return document.body.appendChild(creatediv.firstElementChild)\n  }\n\n  // Static\n  static _jQueryInterface(config) {\n    return new Confirm(config)\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n$.extend({\n  [NAME]:Confirm._jQueryInterface\n})\nexport default Confirm\n"],"names":["NAME","VERSION","DATA_KEY","EVENT_KEY","DEFAULT_ICON","DEFAULT_CONFIRM","Event","CLICK_DISMISS","HIDE","HIDDEN","SHOW","SHOWN","ClassName","FADE","SHOWING","OPEN","BACKDROP","TOAST_FILLED","BG_BTN","BTN_RIMARY","BG_PRIMARY","BG_INFO","BG_DANGER","BG_WARNING","BG_SUCCESS","BG_DARK","State","position","DefaultType","animation","backdrop","header","text","icon","ok","no","Default","Selector","DATA_CONFIRM","DATA_NO","DATA_OK","Confirm","config","_config","_getConfig","_element","_createDIV","_backdrop","_isShown","_flag","_setListeners","show","$","trigger","document","body","addClass","_showBackdrop","_showElement","hide","flag","classList","contains","_close","_judge","dispose","clearTimeout","_timeout","remove","off","removeData","callback","over","add","complete","style","display","transitionDuration","Util","getTransitionDurationFromElement","one","TRANSITION_END","emulateTransitionEnd","removeClass","random","randomArray","typeCheckConfig","constructor","_position","local","$this","inArray","css","left","window","outerWidth","bottom","top","outerHeight","right","animate","hasClass","createElement","className","appendTo","on","event","target","currentTarget","reflow","backdropTransitionDuration","callbackRemove","_removeBackdrop","div","replace","trim","iconName","toUpperCase","state","isHTML","creatediv","innerHTML","appendChild","firstElementChild","_jQueryInterface","extend"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAUA;;;;;;EAMA,IAAMA,IAAI,GAAiB,SAA3B;EACA,IAAMC,OAAO,GAAc,OAA3B;EACA,IAAMC,QAAQ,GAAa,YAA3B;EACA,IAAMC,SAAS,SAAgBD,QAA/B;EACA,IAAME,YAAY,GAAS,+BAA3B;EACA,IAAMC,eAAe,27CAArB;EAsBA,IAAMC,KAAK,GAAG;EACZC,EAAAA,aAAa,oBAAmBJ,SADpB;EAEZK,EAAAA,IAAI,WAAmBL,SAFX;EAGZM,EAAAA,MAAM,aAAmBN,SAHb;EAIZO,EAAAA,IAAI,WAAmBP,SAJX;EAKZQ,EAAAA,KAAK,YAAmBR;EALZ,CAAd;EAQA,IAAMS,SAAS,GAAG;EAChBC,EAAAA,IAAI,EAAM,MADM;EAEhBL,EAAAA,IAAI,EAAM,MAFM;EAGhBE,EAAAA,IAAI,EAAM,MAHM;EAIhBI,EAAAA,OAAO,EAAG,SAJM;EAKhBC,EAAAA,IAAI,EAAM,YALM;EAMhBC,EAAAA,QAAQ,EAAC,gBANO;EAOhBC,EAAAA,YAAY,EAAC,cAPG;EAQhBC,EAAAA,MAAM,EAAM,mBARI;EAShBC,EAAAA,UAAU,EAAE,aATI;EAUhBC,EAAAA,UAAU,EAAE,YAVI;EAWhBC,EAAAA,OAAO,EAAK,SAXI;EAYhBC,EAAAA,SAAS,EAAG,WAZI;EAahBC,EAAAA,UAAU,EAAE,YAbI;EAchBC,EAAAA,UAAU,EAAE,YAdI;EAehBC,EAAAA,OAAO,EAAK;EAfI,CAAlB;EAkBA,IAAMC,KAAK,GAAG,CACZ,SADY,EAEZ,MAFY,EAGZ,QAHY,EAIZ,SAJY,EAKZ,SALY,EAMZ,MANY,CAAd;EASA,IAAMC,QAAQ,GAAG,CAAC,aAAD,EAAgB,cAAhB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,eAAzD,EAA0E,YAA1E,EAAwF,YAAxF,CAAjB;EAEA,IAAMC,WAAW,GAAG;EAClBC,EAAAA,SAAS,EAAG,SADM;EAElBC,EAAAA,QAAQ,EAAI,SAFM;EAGlBC,EAAAA,MAAM,EAAM,QAHM;EAIlBC,EAAAA,IAAI,EAAQ,QAJM;EAKlBC,EAAAA,IAAI,EAAQ,QALM;EAMlBN,EAAAA,QAAQ,EAAI,iBANM;EAOlBO,EAAAA,EAAE,EAAU,UAPM;EAQlBC,EAAAA,EAAE,EAAU;EARM,CAApB;EAWA,IAAMC,OAAO,GAAG;EACdP,EAAAA,SAAS,EAAG,IADE;EAEdC,EAAAA,QAAQ,EAAI,KAFE;EAGdC,EAAAA,MAAM,EAAM,SAHE;EAIdC,EAAAA,IAAI,EAAQ,EAJE;EAKdC,EAAAA,IAAI,EAAQ,MALE;EAMdN,EAAAA,QAAQ,EAAI,YANE;EAOdO,EAAAA,EAPc,gBAOT;EACH,WAAO,IAAP;EACD,GATa;EAUdC,EAAAA,EAVc,gBAUT;EACH,WAAO,KAAP;EACD;EAZa,CAAhB;EAeA,IAAME,QAAQ,GAAG;EACfC,EAAAA,YAAY,EAAG,oBADA;EAEfC,EAAAA,OAAO,EAAG,uBAFK;EAGfC,EAAAA,OAAO,EAAG;EAGZ;;;;;;EANiB,CAAjB;;MAYMC;;;EACJ,mBAAYC,MAAZ,EAAoB;EAClB,SAAKC,OAAL,GAAkB,KAAKC,UAAL,CAAgBF,MAAhB,CAAlB;EACA,SAAKG,QAAL,GAAkB,KAAKC,UAAL,EAAlB;EACA,SAAKC,SAAL,GAAkB,IAAlB;EACA,SAAKC,QAAL,GAAkB,KAAlB;EACA,SAAKC,KAAL,GAAkB,KAAlB,CALkB;;EAOlB,SAAKC,aAAL;;EACA,WAAO,IAAP;EACD;;;;;EAgBD;WAEAC,OAAA,gBAAO;EAAA;;EACLC,IAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiBQ,OAAjB,CAAyB/C,KAAK,CAACI,IAA/B;EACA,SAAKsC,QAAL,GAAgB,IAAhB;EACAI,IAAAA,CAAC,CAACE,QAAQ,CAACC,IAAV,CAAD,CAAiBC,QAAjB,CAA0B5C,SAAS,CAACG,IAApC,EAHK;;EAKL,SAAK0C,aAAL,CAAmB;EAAA,aAAM,KAAI,CAACC,YAAL,EAAN;EAAA,KAAnB;EACD;;WAGDC,OAAA,cAAKC,IAAL,EAAW;EAAA;;EACT,QAAI,CAAC,KAAKf,QAAL,CAAcgB,SAAd,CAAwBC,QAAxB,CAAiClD,SAAS,CAACF,IAA3C,CAAL,EAAuD;EACrD;EACD;;EAED0C,IAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiBQ,OAAjB,CAAyB/C,KAAK,CAACE,IAA/B;EAEA,SAAKwC,QAAL,GAAgB,KAAhB;;EAEA,SAAKe,MAAL,GATS;;;EAWT,SAAKN,aAAL,CAAmB;EAAA,aAAM,MAAI,CAACO,MAAL,CAAYJ,IAAZ,CAAN;EAAA,KAAnB;EACD;;WAEDK,UAAA,mBAAU;EACRC,IAAAA,YAAY,CAAC,KAAKC,QAAN,CAAZ;EACA,SAAKA,QAAL,GAAgB,IAAhB;;EAEA,QAAI,KAAKtB,QAAL,CAAcgB,SAAd,CAAwBC,QAAxB,CAAiClD,SAAS,CAACF,IAA3C,CAAJ,EAAsD;EACpD,WAAKmC,QAAL,CAAcgB,SAAd,CAAwBO,MAAxB,CAA+BxD,SAAS,CAACF,IAAzC;EACD;;EAED0C,IAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiBwB,GAAjB,CAAqB/D,KAAK,CAACC,aAA3B;EAEA6C,IAAAA,CAAC,CAACkB,UAAF,CAAa,KAAKzB,QAAlB,EAA4B3C,QAA5B;EACA,SAAK2C,QAAL,GAAgB,IAAhB;EACA,SAAKF,OAAL,GAAgB,IAAhB;EACD;;WAGDT,KAAA,YAAGqC,QAAH,EAAa;EACX,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;EAClC,WAAK5B,OAAL,CAAaT,EAAb,GAAkBqC,QAAlB;EACD;;EACD,WAAO,IAAP;EACD;;WAEDpC,KAAA,YAAGoC,QAAH,EAAa;EACX,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;EAClC,WAAK5B,OAAL,CAAaR,EAAb,GAAkBoC,QAAlB;EACD;;EACD,WAAO,IAAP;EACD;;WAEDC,OAAA,gBAAO;EACL,WAAO,KAAKvB,KAAZ;EACD;;;WAKDS,eAAA,wBAAe;EAAA;;EACb,QAAI,KAAKf,OAAL,CAAad,SAAjB,EAA4B;EAC1B,WAAKgB,QAAL,CAAcgB,SAAd,CAAwBY,GAAxB,CAA4B7D,SAAS,CAACC,IAAtC;EACD,KAHY;;;EAKb,QAAM6D,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACrB,MAAA,MAAI,CAAC7B,QAAL,CAAcgB,SAAd,CAAwBY,GAAxB,CAA4B7D,SAAS,CAACF,IAAtC;;EAEA0C,MAAAA,CAAC,CAAC,MAAI,CAACP,QAAN,CAAD,CAAiBQ,OAAjB,CAAyB/C,KAAK,CAACK,KAA/B;EACD,KAJD;;EAMA,SAAKkC,QAAL,CAAcgB,SAAd,CAAwBO,MAAxB,CAA+BxD,SAAS,CAACJ,IAAzC;;EAEA,SAAKqC,QAAL,CAAc8B,KAAd,CAAoBC,OAApB,GAA8B,OAA9B;;EAEA,QAAI,KAAKjC,OAAL,CAAad,SAAjB,EAA4B;EAC1B,UAAMgD,kBAAkB,GAAGC,IAAI,CAACC,gCAAL,CAAsC,KAAKlC,QAA3C,CAA3B;EAEAO,MAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CACGmC,GADH,CACOF,IAAI,CAACG,cADZ,EAC4BP,QAD5B,EAEGQ,oBAFH,CAEwBL,kBAFxB;EAGD,KAND,MAMO;EACLH,MAAAA,QAAQ;EACT;EACF;;WAEDV,SAAA,gBAAOJ,IAAP,EAAa;EACXR,IAAAA,CAAC,CAACE,QAAQ,CAACC,IAAV,CAAD,CAAiB4B,WAAjB,CAA6BvE,SAAS,CAACG,IAAvC;EACA,SAAKkC,KAAL,GAAaW,IAAb;EACA,WAAOA,IAAI,GAAG,KAAKjB,OAAL,CAAaT,EAAb,EAAH,GAAuB,KAAKS,OAAL,CAAaR,EAAb,EAAlC;EACD;;WAEDS,aAAA,oBAAWD,OAAX,EAAoB;EAClB,QAAID,MAAM,GAAG,EAAb;;EACA,QAAI,OAAOC,OAAP,KAAmB,QAAvB,EAAiC;EAC/BD,MAAAA,MAAM,CAACV,IAAP,GAAcW,OAAd;EACD,KAFD,MAEO,IAAI,OAAOA,OAAP,KAAmB,QAAnB,IAA+BA,OAAnC,EAA4C;EACjDD,MAAAA,MAAM,GAAGC,OAAT;EACD;;EACDD,IAAAA,MAAM,qBACDN,OADC,EAEDM,MAFC,CAAN;;EAIA,QAAIA,MAAM,CAACT,IAAP,IAAeS,MAAM,CAACT,IAAP,KAAgB,QAAnC,EAA6C;EAC3C,UAAImD,MAAM,GAAGN,IAAI,CAACO,WAAL,CAAiB3D,KAAjB,CAAb;EACA0D,MAAAA,MAAM,GAAGA,MAAM,GAAGA,MAAH,GAAY,EAA3B;EACA1C,MAAAA,MAAM,CAACT,IAAP,GAAcmD,MAAd;EACD;;EAEDN,IAAAA,IAAI,CAACQ,eAAL,CACEtF,IADF,EAEE0C,MAFF,EAGE,KAAK6C,WAAL,CAAiB3D,WAHnB;EAMA,WAAOc,MAAP;EACD;;WACD8C,YAAA,qBAAY;EACV,QAAMC,KAAK,GAAG,CAAd;EACA,QAAMD,SAAS,GAAG,KAAK7C,OAAL,CAAahB,QAA/B;EACA,QAAM+D,KAAK,GAAGtC,CAAC,CAAC,KAAKP,QAAN,CAAf;;EACA,QAAI,OAAO2C,SAAP,KAAqB,QAArB,IAAiCpC,CAAC,CAACuC,OAAF,CAAUH,SAAV,EAAqB7D,QAArB,MAAmC,CAAC,CAAzE,EAA4E;EAC1E,UAAI6D,SAAS,KAAK,eAAlB,EAAmC;EACjCE,QAAAA,KAAK,CAACE,GAAN,CAAU;EACRC,UAAAA,IAAI,EAAGzC,CAAC,CAAC0C,MAAD,CAAD,CAAUC,UAAV,KAAyBN,KAAzB,GAAiCC,KAAK,CAACK,UAAN,KAAqBN,KADrD;EAERO,UAAAA,MAAM,EAAE;EAFA,SAAV;EAID,OALD,MAKO,IAAIR,SAAS,KAAK,YAAlB,EAAgC;EACrCE,QAAAA,KAAK,CAACE,GAAN,CAAU;EACRC,UAAAA,IAAI,EAAGzC,CAAC,CAAC0C,MAAD,CAAD,CAAUC,UAAV,KAAyBN,KAAzB,GAAiCC,KAAK,CAACK,UAAN,KAAqBN,KADrD;EAERQ,UAAAA,GAAG,EAAE;EAFG,SAAV;EAID,OALM,MAKA,IAAIT,SAAS,KAAK,YAAlB,EAAgC;EACrCE,QAAAA,KAAK,CAACE,GAAN,CAAU;EACRC,UAAAA,IAAI,EAAGzC,CAAC,CAAC0C,MAAD,CAAD,CAAUC,UAAV,KAAyBN,KAAzB,GAAiCC,KAAK,CAACK,UAAN,KAAqBN,KADrD;EAERQ,UAAAA,GAAG,EAAG7C,CAAC,CAAC0C,MAAD,CAAD,CAAUI,WAAV,KAA0BT,KAA1B,GAAkCC,KAAK,CAACQ,WAAN,KAAsBT;EAFtD,SAAV;EAID,OALM,MAKA;EACLC,QAAAA,KAAK,CAAClC,QAAN,CAAegC,SAAf;EACD;EACF,KAnBD,MAmBO,IAAI,OAAOA,SAAP,KAAqB,QAAzB,EAAmC;EACxCE,MAAAA,KAAK,CAACE,GAAN,CAAU;EACRK,QAAAA,GAAG,EAAGT,SAAS,CAACS,GAAV,GAAgBT,SAAS,CAACS,GAA1B,GAAgC,MAD9B;EAERD,QAAAA,MAAM,EAAGR,SAAS,CAACQ,MAAV,GAAmBR,SAAS,CAACQ,MAA7B,GAAsC,MAFvC;EAGRH,QAAAA,IAAI,EAAGL,SAAS,CAACK,IAAV,GAAiBL,SAAS,CAACK,IAA3B,GAAkC,MAHjC;EAIRM,QAAAA,KAAK,EAAGX,SAAS,CAACW,KAAV,GAAkBX,SAAS,CAACW,KAA5B,GAAoC;EAJpC,OAAV;EAMD,KAPM,MAOA;EACLT,MAAAA,KAAK,CAAClC,QAAN,CAAe,YAAf;EACD;EACF;;WAEDC,gBAAA,uBAAcc,QAAd,EAAwB;EAAA;;EACtB,QAAM6B,OAAO,GAAGhD,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiBwD,QAAjB,CAA0BzF,SAAS,CAACC,IAApC,IACZD,SAAS,CAACC,IADE,GACK,EADrB;;EAGA,QAAI,KAAKmC,QAAT,EAAmB;EACjB,WAAKD,SAAL,GAAiBO,QAAQ,CAACgD,aAAT,CAAuB,KAAvB,CAAjB;EACA,WAAKvD,SAAL,CAAewD,SAAf,GAA2B3F,SAAS,CAACI,QAArC;;EAEA,UAAIoF,OAAJ,EAAa;EACX,aAAKrD,SAAL,CAAec,SAAf,CAAyBY,GAAzB,CAA6B2B,OAA7B;EACD;;EAEDhD,MAAAA,CAAC,CAAC,KAAKL,SAAN,CAAD,CAAkByD,QAAlB,CAA2BlD,QAAQ,CAACC,IAApC;EAEAH,MAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiB4D,EAAjB,CAAoBnG,KAAK,CAACC,aAA1B,EAAyC,UAACmG,KAAD,EAAW;EAClD,YAAI,CAAC,MAAI,CAAC/D,OAAL,CAAab,QAAlB,EAA4B;EAC1B;EACD;;EACD,YAAI4E,KAAK,CAACC,MAAN,KAAiBD,KAAK,CAACE,aAA3B,EAA0C;EACxC;EACD;;EACD,QAAA,MAAI,CAACjD,IAAL;EACD,OARD;;EAUA,UAAIyC,OAAJ,EAAa;EACXtB,QAAAA,IAAI,CAAC+B,MAAL,CAAY,KAAK9D,SAAjB;EACD;;EAEDK,MAAAA,CAAC,CAAC,KAAKL,SAAN,CAAD,CAAkBS,QAAlB,CAA2B5C,SAAS,CAACF,IAArC;;EAEA,UAAI,CAAC6D,QAAL,EAAe;EACb;EACD;;EAED,UAAI,CAAC6B,OAAL,EAAc;EACZ7B,QAAAA,QAAQ;EACR;EACD;;EAED,UAAMuC,0BAA0B,GAAGhC,IAAI,CAACC,gCAAL,CAAsC,KAAKhC,SAA3C,CAAnC;EAEAK,MAAAA,CAAC,CAAC,KAAKL,SAAN,CAAD,CACGiC,GADH,CACOF,IAAI,CAACG,cADZ,EAC4BV,QAD5B,EAEGW,oBAFH,CAEwB4B,0BAFxB;EAGD,KAxCD,MAwCO;EAAE;EACP1D,MAAAA,CAAC,CAAC,KAAKL,SAAN,CAAD,CAAkBoC,WAAlB,CAA8BvE,SAAS,CAACF,IAAxC;;EAEA,UAAMqG,cAAc,GAAG,SAAjBA,cAAiB,GAAM;EAC3B,QAAA,MAAI,CAACC,eAAL;;EACA,YAAIzC,QAAJ,EAAc;EACZA,UAAAA,QAAQ;EACT;EACF,OALD;;EAOA,UAAInB,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiBwD,QAAjB,CAA0BzF,SAAS,CAACC,IAApC,CAAJ,EAA+C;EAC7C,YAAMiG,2BAA0B,GAAGhC,IAAI,CAACC,gCAAL,CAAsC,KAAKhC,SAA3C,CAAnC;;EAEAK,QAAAA,CAAC,CAAC,KAAKL,SAAN,CAAD,CACGiC,GADH,CACOF,IAAI,CAACG,cADZ,EAC4B8B,cAD5B,EAEG7B,oBAFH,CAEwB4B,2BAFxB;EAGD,OAND,MAMO;EACLC,QAAAA,cAAc;EACf;EACF;EACF;;WAEDC,kBAAA,2BAAkB;EAChB,QAAI,KAAKjE,SAAT,EAAoB;EAClBK,MAAAA,CAAC,CAAC,KAAKL,SAAN,CAAD,CAAkBqB,MAAlB;EACA,WAAKrB,SAAL,GAAiB,IAAjB;EACD;EACF;;WAEDG,gBAAA,yBAAgB;EAAA;;EACdE,IAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiB4D,EAAjB,CACEnG,KAAK,CAACC,aADR,EAEE8B,QAAQ,CAACE,OAFX,EAGE;EAAA,aAAM,MAAI,CAACoB,IAAL,CAAU,KAAV,CAAN;EAAA,KAHF;EAKAP,IAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CAAiB4D,EAAjB,CACEnG,KAAK,CAACC,aADR,EAEE8B,QAAQ,CAACG,OAFX,EAGE;EAAA,aAAM,MAAI,CAACmB,IAAL,CAAU,IAAV,CAAN;EAAA,KAHF;EAKD;;WAEDI,SAAA,kBAAS;EAAA;;EACP,QAAMW,QAAQ,GAAG,SAAXA,QAAW,GAAM;EACrB,MAAA,MAAI,CAAC7B,QAAL,CAAcgB,SAAd,CAAwBY,GAAxB,CAA4B7D,SAAS,CAACJ,IAAtC;;EACA4C,MAAAA,CAAC,CAAC,MAAI,CAACP,QAAN,CAAD,CAAiBQ,OAAjB,CAAyB/C,KAAK,CAACG,MAA/B;EACA2C,MAAAA,CAAC,CAAC,MAAI,CAACP,QAAN,CAAD,CAAiBuB,MAAjB;EACA,MAAA,MAAI,CAACvB,QAAL,GAAgB,IAAhB;EACD,KALD;;EAOA,SAAKA,QAAL,CAAcgB,SAAd,CAAwBO,MAAxB,CAA+BxD,SAAS,CAACF,IAAzC;;EACA,QAAI,KAAKiC,OAAL,CAAad,SAAjB,EAA4B;EAC1B,UAAMgD,kBAAkB,GAAGC,IAAI,CAACC,gCAAL,CAAsC,KAAKlC,QAA3C,CAA3B;EAEAO,MAAAA,CAAC,CAAC,KAAKP,QAAN,CAAD,CACGmC,GADH,CACOF,IAAI,CAACG,cADZ,EAC4BP,QAD5B,EAEGQ,oBAFH,CAEwBL,kBAFxB;EAGD,KAND,MAMO;EACLH,MAAAA,QAAQ;EACT;EACF;;WAED5B,aAAA,sBAAa;EACXM,IAAAA,CAAC,CAACf,QAAQ,CAACC,YAAV,EAAwBgB,QAAxB,CAAD,CAAmCc,MAAnC;EACAhB,IAAAA,CAAC,OAAKxC,SAAS,CAACI,QAAf,EAA2BsC,QAA3B,CAAD,CAAsCc,MAAtC;EACA,QAAI6C,GAAG,GAAG5G,eAAV;EACA4G,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,YAAZ,EAA0B,KAAKvE,OAAL,CAAaZ,MAAvC,CAAN;EACAkF,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAwB,KAAKvE,OAAL,CAAaX,IAArC,CAAN;;EACA,QAAIC,IAAI,GAAG,KAAKU,OAAL,CAAaV,IAAb,CAAkBkF,IAAlB,EAAX;;EACA,QAAMC,QAAQ,GAAGnF,IAAI,CAACoF,WAAL,EAAjB;;EACA,SAAK,IAAMC,KAAX,IAAoB5F,KAApB,EAA2B;EACzB,UAAIO,IAAI,KAAKP,KAAK,CAAC4F,KAAD,CAAlB,EAA2B;EACzBL,QAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,gBAAZ,EAAiCtG,SAAS,SAAOwG,QAAP,CAA1C,SAAgExG,SAAS,CAACK,YAA1E,CAAN;EACAgG,QAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,cAAZ,EAA4BtG,SAAS,CAACM,MAAtC,CAAN;EACAe,QAAAA,IAAI,GAAG7B,YAAP;EACA;EACD;EACF;;EACD6G,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,gBAAZ,EAA8B,EAA9B,CAAN;EACAD,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,cAAZ,EAA4BtG,SAAS,CAACO,UAAtC,CAAN;EACAc,IAAAA,IAAI,GAAG6C,IAAI,CAACyC,MAAL,CAAYtF,IAAZ,IAAoBA,IAApB,GAA2B,EAAlC;EACAgF,IAAAA,GAAG,GAAGA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAwBjF,IAAxB,CAAN;EACA,QAAMuF,SAAS,GAAGlE,QAAQ,CAACgD,aAAT,CAAuB,KAAvB,CAAlB;EACAkB,IAAAA,SAAS,CAACC,SAAV,GAAsBR,GAAtB;EACA,WAAO3D,QAAQ,CAACC,IAAT,CAAcmE,WAAd,CAA0BF,SAAS,CAACG,iBAApC,CAAP;EACD;;;YAGMC,mBAAP,0BAAwBlF,MAAxB,EAAgC;EAC9B,WAAO,IAAID,OAAJ,CAAYC,MAAZ,CAAP;EACD;;;;0BA5SoB;EACnB,aAAOzC,OAAP;EACD;;;0BAEwB;EACvB,aAAO2B,WAAP;EACD;;;0BAEoB;EACnB,aAAOQ,OAAP;EACD;;;;;EAqSH;;;;;;;EAKAgB,CAAC,CAACyE,MAAF,4BACG7H,IADH,IACSyC,OAAO,CAACmF,gBADjB;;;;;;;;"}